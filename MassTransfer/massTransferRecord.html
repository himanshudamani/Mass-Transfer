<template>
 <!--Modal section start-->
 
  <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open">
    <div class="slds-modal__container">
      <!-- modal header start -->
      <header class="slds-modal__header">
        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={confirmClose}>
          <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" ></lightning-icon>
          <span class="slds-assistive-text">Close</span>
        </button>
        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Mass Transfer</h2>
      </header>
      <!-- Modal body start -->
      <div class="slds-modal__content slds-p-around_small" id="modal-content-id-1">

        <div class="middleBox">
          <div class="slds-box">
            <div class="slds-grid slds-gutters">
              <div class="slds-col">
                <span> 
                  <lightning-layout-item >
                    <c-practice-custom-lookup-sal label="Transfer From"  onlookupselected={handleSelection} onprogressvaluechange={handleProgressValueChange} another-pill-user={transferTo}></c-practice-custom-lookup-sal>
                  </lightning-layout-item> 
                </span>
              </div>
              <div class="slds-col">
                <span>
                  <lightning-layout-item>
                    <c-practice-custom-lookup-sal label="Transfer To" onlookupselectedtransferto={handletransferTo} onprogressvaluechange={handleRemoveTransferTo} another-pill-user={userId}></c-practice-custom-lookup-sal>
                  </lightning-layout-item></span>
                </div>
              </div>
              <br/>
             
              <h2 class="header"><b>Records List</b></h2>
              <div class="slds-box">
                <div class="slds-grid ">
                  <div class="slds-col">
                    <lightning-input class="acc" type="checkbox" label="Account"  name="account" onchange={handleCheckbox} value="Account" disabled={disableCheckbox} checked={showAccounts}></lightning-input>
                    <lightning-input type="checkbox" label="Lead"  name="lead" onchange={handleCheckbox} value="Lead" disabled={disableCheckbox} checked={showLeads}></lightning-input>
                    <lightning-input type="checkbox" label="Contact" name="contact" onchange={handleCheckbox} value="Contact" disabled={disableCheckbox} checked={showContacts}></lightning-input>
                    <lightning-input type="checkbox" label="Opportunity" name="opportunity" onchange={handleCheckbox} value="Opportunity" disabled={disableCheckbox} checked={showOpp}></lightning-input>
                  </div>
                  <div class="slds-col">
                </div>
                <div class="slds-col">
                  <lightning-input type="checkbox" label="Account Team Member" name="AccountTeamMember" onchange={handleCheckbox} value="AccountTeamMember" disabled={disableCheckbox} checked={showATM}></lightning-input>
                  <lightning-input type="checkbox" label="Opportunity Team Member" name="OpportunityTeamMember" onchange={handleCheckbox} value="OpportunityTeamMember" disabled={disableCheckbox} checked={showOTM}></lightning-input>
                  <lightning-input type="checkbox" label="Account Approval Process" name="ApprovalProcess" onchange={handleCheckbox} value="ApprovalProcess" disabled={disableCheckbox} checked={showAP}></lightning-input>
                </div>
              </div>
            </div>
            <br/>
            <br/>
            <div class="slds-align_absolute-center" slot="footer">
              <lightning-button class="btnClass" label="Search" variant="brand" onclick={SelectRecords} disabled={disableSearchBtn}>
              </lightning-button> 
            <div>
              {message}
          </div>
        </div>
          <br/>

          <template if:true={boolVal}>
            <lightning-tabset selected-tab-id={tab} variant="scoped">

              <template if:true={searchAccount}>
                <lightning-tab label="Account" value="Account" id="Account">
                  <c-acc-custom-table-sal object-name={account} user-id='{userId}' transfer-to='{transferTo}' onisrecordselected={handlerecordselected}></c-acc-custom-table-sal>
                </lightning-tab>
              </template>

              <template if:true={searchLead}>
                <lightning-tab label="Lead" value="Lead" id="Lead">
                  <c-lead-custom-table-sal object-name={lead} user-id='{userId}' transfer-to='{transferTo}' onisrecordselected={handlerecordselected}></c-lead-custom-table-sal>
                </lightning-tab>
              </template>

              <template if:true={searchContact}>
                <lightning-tab label="Contact" value="Contact" id="Contact">
                  <c-con-custom-table-sal object-name={contact} user-id='{userId}' transfer-to='{transferTo}' onisrecordselected={handlerecordselected}></c-con-custom-table-sal>
                </lightning-tab>
              </template>

              <template if:true={searchOpportunity}>
                <lightning-tab label="Opportunity" value="Opportunity" id="Opportunity">
                  <c-opp-custom-table-sal object-name={opportunity} user-id='{userId}' transfer-to='{transferTo}' onisrecordselected={handlerecordselected}></c-opp-custom-table-sal>
                </lightning-tab>
              </template>

              <template if:true={searchAccountTeamMember}>
                <lightning-tab label="Account Team Member" value="AccountTeamMember" id="AccountTeamMember">
                  <c-account-team-member-custom-table-sal object-name={AccountTeamMember} user-id='{userId}' transfer-to='{transferTo}' onisrecordselected={handlerecordselected}></c-account-team-member-custom-table-sal>
                </lightning-tab>
              </template>

              <template if:true={searchOpportunityTeamMember}>
                <lightning-tab label="Opportunity Team Member" value="OpportunityTeamMember" id="OpportunityTeamMember">
                  <c-opportunity-team-member-custom-table-sal object-name={OpportunityTeamMember} user-id='{userId}' transfer-to='{transferTo}' onisrecordselected={handlerecordselected}></c-opportunity-team-member-custom-table-sal>
                </lightning-tab>
              </template>

              <template if:true={searchApproval}>
                <lightning-tab label="Approval Process" value="ApprovalProcess" id="ApprovalProcess">
                  <c-approval-table-sal  user-id='{userId}' transfer-to='{transferTo}' transfer-from='{userId}' user-name={transferFrom} onisrecordselected={handlerecordselected}></c-approval-table-sal>
                </lightning-tab>
              </template>

            </lightning-tabset>
          </template>
        </div>
        </div>
      </div>
    </div>
  </section>
  
  <div class="slds-backdrop slds-backdrop_open"></div>
</template>
